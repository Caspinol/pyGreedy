<% layout( 'layout') -%>

<div class="row-fluid">
  <div class="col-sm-12">

    <div class="col-sm-7">
      <div class="well">
	<p><b>Add new zone</b></p>
	<form action="/zonecreate" method="post" accept-charset="utf-8" class="form-inline" role="form" id="zonecreate">
	  <input type="text" class="form-control" name="zoneid"
                 placeholder="<%= ctx.max_zone %>"
                 value="<%= ctx.max_zone %>"/>
	  <input type="text" class="form-control" name="name" placeholder="Zone name"/>
          <select class="form-control" name="regionid">
            <option value="">Region</option>
            <% ctx.regions.forEach(function(region){ %>
            <option value="<%= region.regionid %>"><%= region.name %></option>
            <% }) %>
          </select>
	  <input type="submit" class="btn btn-default" value="Add"/>
	</form>
      </div>
      <div class="well">
	<div class="">
	  <h4>Zone</h4>
	</div>
	  <table class="table table-condensed" style="height:100%;overflow:scroll">
	    <theader>
	      <tr>
		<th>Zone ID</th>
		<th>Name</th>
		<th>Region ID</th>
		<th>Action</th>
	      </tr>
	    </theader>
	    <tbody>
	      <% ctx.zones.forEach(function(zone){ %>
	      <form action="/zoneupdate" method="post" accept-charset="utf-8"
                    class="form-inline" role="form" id="zoneupdate">
		<tr>
		  <th class="col-sm-1"><input type="text" class="form-control"
                                              name="zoneid" value="<%= zone.zoneid %>" readonly/></th>
		  <th class="col-sm-3"><input type="text" class="form-control"
                                              name="name" value="<%= zone.name %>"/></th>
		  <th class="col-sm-1"><input type="text" class="form-control"
                                              name="regionid" value="<%= zone.regionid %>"/></th>
		  <th class="col-sm-2">
		    <input type="submit" class="btn btn-default" value="Update"/>
		    <a href="/zonedestroy/<%= zone.zoneid %>" class="btn btn-danger">Delete</a>
		  </th>
		</tr>
	      </form>
	      <% }); %>
	    </tbody>
	  </table>
      </div>
    </div>
    
    <div class="col-sm-5">
      <div class="well">
	<p><b>Add new region</b></p>
	<form action="/regioncreate" method="post" accept-charset="utf-8" class="form-inline"
              role="form" id="regioncreate">
	  <input type="text" class="form-control" name="regionid"
                 placeholder="<%= ctx.max_region %>"
                 value="<%= ctx.max_region %>"/>
	  <input type="text" class="form-control" name="name" placeholder="Region name"/>
	  <input type="submit" class="btn btn-default" value="Add"/>
	</form>
      </div>
      <div class="well">
	<div class="">
	  <h4>Region</h4>
	</div>
	<table class="table table-condensed" style="height:100%;overflow:scroll">
	    <theader>
	      <tr>
		<th>Region ID</th>
		<th>Name</th>
		<th>Action</th>
	      </tr>
	    </theader>
	    <tbody>
	      <% ctx.regions.forEach(function(region){ %>
	      <form action="/regionupdate" method="post" accept-charset="utf-8" class="form-inline"
                    role="form" id="regionupdate">
		<tr>
		  <th class="col-sm-1">
                    <input type="text" class="form-control" name="regionid"
                           value="<%= region.regionid %>" readonly/>
                  </th>
		  <th class="col-sm-2">
                    <input type="text" class="form-control" name="name" value="<%= region.name %>"/>
                  </th>
		  <th class="col-sm-2">
		    <input type="submit" class="btn btn-default" value="Update"/>
		    <a href="/regiondestroy/<%= region.regionid %>" class="btn btn-danger">Delete</a>
		  </th>
		</tr>
	      </form>
	      <% }); %>
	    </tbody>
	  </table>
      </div>
    </div>
    
  </div> <!-- main column --> 
</div> <!-- row div  -->
